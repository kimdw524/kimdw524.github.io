<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.14.0"/><meta name="description" content="웹 프론트엔드에 관한 글을 작성합니다." data-gatsby-head="true"/><style data-href="/styles.86f6d6db634955283196.css" data-identity="gatsby-global-css">.veb0he0{--t43h440:#fff;--t43h441:#37474f;--t43h442:#546e7a;--t43h443:#2196f3}._11wnn4u0{border-bottom:.0625rem solid #e0e0e0;margin-bottom:1rem;padding-bottom:1rem;text-align:right}._11wnn4u1{margin:0 auto;max-width:90rem;padding:1rem}._11wnn4u2{display:flex;flex-direction:row;gap:2rem}._11wnn4u3{flex:1 1 auto}._11wnn4u4{display:flex;flex:0 0 20rem;flex-direction:column;gap:2rem}@media screen and (max-width:1024px){._11wnn4u4{display:none}}._1l4bvp10{font-size:1rem;font-weight:500}._1wkl6in0{background-color:#f5f5f5;border-radius:.5rem;display:inline-flex;flex-wrap:wrap;gap:.5rem;margin-top:1rem;padding:1rem;width:100%}._1wkl6in1{font-weight:400}._1wkl6in2{font-size:.75rem;font-weight:300;margin-left:.25rem}*{-webkit-tap-highlight-color:transparent;box-sizing:border-box;color:inherit;font-family:inherit;line-height:inherit;margin:0;text-decoration:inherit}body{background-color:var(--t43h440);color:var(--t43h441);font-family:Noto Sans KR,sans-serif;font-size:16px;line-height:1.5}._1rrztqm0{position:sticky;top:0;z-index:1}._1wkjoez1{align-items:center;background-color:var(--t43h440);border-bottom:.0625rem solid transparent;display:flex;height:5rem;justify-content:space-between;padding:0 1rem;transition:height .2s ease,border-bottom-color .2s ease,transform .8s ease,opacity .4s ease}._1wkjoez2{--_1wkjoez0:1.25rem;border-bottom-color:#d9e0e7;height:4rem}._1wkjoez3{--_1wkjoez0:1.5rem}._1wkjoez4{opacity:1;transform:translateY(0)}._1wkjoez5{opacity:0;transform:translateY(-100%)}._1ndrp210{border-radius:1rem;padding:.75rem;text-decoration:none;transition:all .2s ease}._1ndrp210:hover{background-color:#a0aec338}.h79myh0{align-items:center;display:flex;transition:all .2s ease;word-break:keep-all}.h79myh1{border-radius:1rem;font-size:.875rem;height:2rem;padding:0 .625rem}.h79myh2{border-radius:1.25rem;font-size:1rem;height:2.5rem;padding:0 .875rem}.h79myh3{background-color:#eceff1}.h79myh3:hover{background-color:#cfd8dc}.h79myh4{background-color:transparent;border:0;color:#263238}.h79myh4:hover{background-color:#b0bec5;color:#fff}.h79myh5{background:#607d8b;color:#fff}.h79myh5:hover{background-color:#607d8b}.bpcxqs0{font-size:var(--_1wkjoez0);font-weight:500;transition:all .2s ease}.bjn5ys0{display:block;transition:all 0s ease}.bjn5ys0,.bjn5ys1{transform-origin:0 0}.bjn5ys1{background-color:#fffffff0;border-bottom:.0625rem solid #dbdbdb;display:none;flex-direction:column;justify-content:flex-end;left:0;padding:.5rem;position:absolute;right:0;top:100%;transition:transform .2s ease,opacity .2s ease}.bjn5ys2{opacity:1;transform:scaleY(100%)}.bjn5ys3{opacity:0;transform:scaleY(0)}.bjn5ys4{background-color:transparent;border:0;border-radius:50%;cursor:pointer;display:none;height:3rem;transition:all .2s ease;width:3rem}.bjn5ys4:active{background-color:#bbbbbb38}@media screen and (max-width:768px){.bjn5ys0{display:none}.bjn5ys1{display:flex!important}.bjn5ys4{align-items:center;display:flex;justify-content:center}}._20ktsp0{align-items:center;background-color:#eceff1;border-radius:.5rem;display:flex;gap:1rem;padding:1rem;transition:filter .2s ease;-webkit-user-select:none;user-select:none}._20ktsp0:hover{filter:contrast(90%)}._20ktsp1{flex-direction:row-reverse;text-align:left}._20ktsp2{flex-direction:row;text-align:right}._20ktsp3{display:flex;flex:1 1 auto;flex-direction:column;gap:.5rem;overflow:hidden}._20ktsp4{color:#37474f;font-size:.875rem;font-weight:600}._20ktsp5{color:#263238;font-size:1rem;font-weight:400;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._20ktsp6{flex:0 0 auto;transition:transform .2s ease;width:1.25rem}._20ktsp0:hover>._20ktsp7{transform:translateX(-.25rem)}._20ktsp0:hover>._20ktsp8{transform:translateX(.25rem)}._1ol1jv30{font-size:1.25rem;font-weight:600}._1ol1jv31{margin-bottom:1rem;margin-top:.5rem;word-break:break-all}._1ol1jv32{display:flex;flex-direction:row-reverse;gap:.5rem}._125dc7m0{color:#78909c;font-size:.875rem;transition:color .2s ease}._125dc7m0:hover{color:#263238}._1pl0ula0{gap:1rem;margin:1rem 0;position:relative;-webkit-user-select:none;user-select:none}._1pl0ula0,._1pl0ula1{display:flex;flex-direction:column}._1pl0ula1{gap:.5rem}._1pl0ula2{font-size:1.25rem;font-weight:600;transition:color .2s ease;word-break:break-word}._1pl0ula0:hover ._1pl0ula2{color:var(--t43h443)}._1pl0ula3{color:var(--t43h441);font-weight:400;word-break:break-word}._1pl0ula4{color:var(--t43h442);font-size:.875rem;font-weight:400}.iopnx0{display:flex;flex-direction:column;gap:1rem}._11djk770{display:flex;flex-wrap:wrap;gap:.5rem;line-height:1;margin:.375rem 0}._1s2y7hd0{left:100%;position:absolute;top:0}._1s2y7hd1{display:flex;flex-direction:column;gap:.5rem;padding:1rem;width:15rem}._1s2y7hd2{position:fixed;top:6rem}._1s2y7hd4{font-size:.875rem;transition:all .2s ease;-webkit-user-select:none;user-select:none}._1s2y7hd5{color:#000}._1s2y7hd6{color:#90a4ae}._1s2y7hd7{margin-left:0}._1s2y7hd8{margin-left:.5rem}._1s2y7hd9{margin-left:1rem}.irxiq0 h1{border-bottom:.125rem solid #eaeaea;font-size:2rem;font-weight:700;margin:1rem 0;padding-bottom:.375rem}.irxiq0 h2{font-size:1.75rem;font-weight:600;margin:.875rem 0}.irxiq0 h3{font-size:1.5rem;font-weight:500;margin:.75rem 0}.irxiq0 h4,.irxiq0 h5,.irxiq0 h6{font-size:1.25rem;font-weight:500;margin:.5rem}.irxiq0 p{margin:.5rem 0}.irxiq0 blockquote{background-color:#f9f9f9;border-left:.25rem solid #0af;color:#555;font-style:italic;margin:1rem 0;padding:.5rem 1rem}.irxiq0 ol,.irxiq0 ul{margin:1rem 0;padding-left:1.5em}.irxiq0 ul li{list-style-type:disc;margin:.5rem 0}.irxiq0 ol li{list-style-type:decimal;margin:.5rem 0}.irxiq0 pre{background-color:#282c34;border-radius:.5rem;color:#fff;margin:1rem 0;overflow-x:auto;padding:1rem}.irxiq0 hr{background-color:#eaeaea;border:none;border-top:1px solid #eaeaea;height:.0125rem;margin:2rem 0}.irxiq0 table{border-collapse:collapse;margin:r1em 0;width:100%}.irxiq0 table td,.irxiq0 table th{border:.0625rem solid #ddd;padding:.5rem 1rem;text-align:left}.irxiq0 table th{background-color:#f5f5f5;font-weight:700}.irxiq0 a{color:#0af;text-decoration:none}.irxiq0 a:hover{text-decoration:underline}.irxiq0 img{margin:1rem 0;max-width:100%}code[class*=language-],pre[class*=language-]{word-wrap:normal;color:#ff5f5f;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:2;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#073642}pre[class*=language-]{border-radius:.3em;display:flex;flex-direction:row-reverse;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#f5f5f5;border-radius:.5rem}:not(pre)>code[class*=language-]{border-radius:.3em;font-size:.875rem;padding:.25rem}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{background:#eee8d5;color:#657b83}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre.line-numbers{counter-reset:linenumber;position:relative}pre.line-numbers>code{flex:1 1 auto;padding:0 1rem;position:relative}.line-numbers .line-numbers-rows{border-right:.0625rem solid #cfd8dc;flex:0 0 auto;padding:0 .625rem;pointer-events:none;-webkit-user-select:none;user-select:none}.line-numbers-rows>span{counter-increment:linenumber;display:block;pointer-events:none}.line-numbers-rows>span:before{color:#78909c;content:counter(linenumber);display:block;text-align:right}._22j7750{margin:0 auto;max-width:50rem;padding:1rem}._22j7751{font-size:2.5rem;font-weight:600}._22j7752{color:var(--t43h442);font-size:.875rem}._22j7753{align-items:flex-start;border-bottom:.0625rem solid #cfd8dc;display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem;padding-bottom:1rem}._22j7754{margin-bottom:4rem;position:relative}._22j7756{display:grid;gap:2rem;grid-template-columns:1fr 1fr;margin-top:2rem;padding:0 1rem}._22j7757{overflow:hidden}._22j7758{border:.0625rem solid #e0e0e0;border-radius:.5rem;padding:.75rem}@media screen and (max-width:1280px){._22j7755{display:none}}@media screen and (max-width:576px){._22j7756{gap:1rem;grid-template-columns:1fr}}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 100)
          }), 0)
        }
      }
    })
  </script><title data-gatsby-head="true">transition이 발생하지 않는 이유 - kimdw524&#x27;s blog</title></head><body class="veb0he0"><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><header class="_1rrztqm0"><nav class="_1wkjoez1 _1wkjoez3 _1wkjoez4"><h1 class="bpcxqs0"><a href="/">kimdw524&#x27;s blog</a></h1><div><div class="bjn5ys0"><a href="https://github.com/kimdw524" target="_blank" class="_1ndrp210">GitHub</a><a href="https://github.com/kimdw524" target="_blank" class="_1ndrp210">Portfolio</a></div><div class="bjn5ys1 bjn5ys3"><a href="https://github.com/kimdw524" target="_blank" class="_1ndrp210">GitHub</a><a href="https://github.com/kimdw524" target="_blank" class="_1ndrp210">Portfolio</a></div><button class="bjn5ys4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg></button></div></nav></header><main><div class="_22j7750"><div class="_22j7753"><h2 class="_22j7751">transition이 발생하지 않는 이유</h2><div class="_22j7752">2025년 02월 23일</div><div class="_11djk770"><a href="/tag/JavaScript/"><span class="h79myh0 h79myh1 h79myh3">JavaScript</span></a><a href="/tag/CSS/"><span class="h79myh0 h79myh1 h79myh3">CSS</span></a><a href="/tag/Browser/"><span class="h79myh0 h79myh1 h79myh3">Browser</span></a></div></div><div class="_22j7754"><div class="irxiq0"><h2 id="문제-상황" style="position:relative;">문제 상황<a href="#%EB%AC%B8%EC%A0%9C-%EC%83%81%ED%99%A9" aria-label="문제 상황 permalink" class="anchor after"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="1rem" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" /></svg></a></h2>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token plain-text">
      .box {
        width: 100px;
        height: 100px;

        background-color: green;
      }
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token plain-text">
      function test() {
        const $box = document.querySelector(".box");

        $box.style.backgroundColor = "red";
        $box.style.transition = "all 1s";
        $box.style.backgroundColor = "blue";
      }
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">box</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token special-attr"><span class="token attr-name">onClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token plain-text">Button</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>위와 같은 코드에서 <code class="language-text">test()</code> 를 호출했을 때 box의 background-color가 어떻게 변화될까요?</p>
<p>개발자는 red → blue로 transition이 일어나는 걸 의도했겠지만 결과는 아래와 같이 green → blue로 transition이 됩니다.</p>
<p><img src="/d0f2bf91cc9ab0b0f2d676ddcc6aee11/1.gif" alt="1.gif"></p>
<h2 id="의도한-것과-결과가-다른-이유" style="position:relative;">의도한 것과 결과가 다른 이유<a href="#%EC%9D%98%EB%8F%84%ED%95%9C-%EA%B2%83%EA%B3%BC-%EA%B2%B0%EA%B3%BC%EA%B0%80-%EB%8B%A4%EB%A5%B8-%EC%9D%B4%EC%9C%A0" aria-label="의도한 것과 결과가 다른 이유 permalink" class="anchor after"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="1rem" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" /></svg></a></h2>
<p>JavaScript로 element의 style을 변경해도 즉시 적용되지 않습니다.</p>
<p>브라우저는 JavaScript의 동기적인 코드가 끝난 뒤 렌더링 과정을 일괄적으로 처리합니다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/c9fc4c17703e7787368846b865ff9a3f/d3f96/0.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 15.337423312883436%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwklEQVR42gG3AEj/APvx1vbgqPfksvfjsPjksdzP5s7B89HF8dTI8s/B8NDB89HN6L/ct73atsLcu8Lcu73Ztr7bt7rYst7s2gD23JztvEDux2Htw1v0xEC2k66Ve+yWeeCXeuOXfOKafeSSftVyrmdxsGJurl9wr2FzsWR6tG1oqlmv0qYA+vDX9eCp9uKx9uKv9+Ox287mzb/00sXy1Mjyz8Lx0MH00c3pvtu2u9i0wty7wdy7vNm1v9u4uNex3eza+66Hle/aGMgAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="image.png"
        title=""
        src="/static/c9fc4c17703e7787368846b865ff9a3f/a6d36/0.png"
        srcset="/static/c9fc4c17703e7787368846b865ff9a3f/222b7/0.png 163w,
/static/c9fc4c17703e7787368846b865ff9a3f/ff46a/0.png 325w,
/static/c9fc4c17703e7787368846b865ff9a3f/a6d36/0.png 650w,
/static/c9fc4c17703e7787368846b865ff9a3f/e548f/0.png 975w,
/static/c9fc4c17703e7787368846b865ff9a3f/d3f96/0.png 1093w"
        sizes="(max-width: 650px) 100vw, 650px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h2 id="알려진-해결-방법들" style="position:relative;">알려진 해결 방법들<a href="#%EC%95%8C%EB%A0%A4%EC%A7%84-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95%EB%93%A4" aria-label="알려진 해결 방법들 permalink" class="anchor after"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="1rem" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" /></svg></a></h2>
<p>이 문제에 대해 검색을 해보면 몇 가지 해결책을 찾아볼 수 있습니다.</p>
<p>흔히 찾아볼 수 있는 4가지 방법을 정리했습니다.</p>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx">$box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>

<span class="token comment">// solution 1</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  $box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'all 1s'</span><span class="token punctuation">;</span>
  $box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'blue'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// solution 2</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  $box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'all 1s'</span><span class="token punctuation">;</span>
  $box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'blue'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// solution 3</span>
<span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  $box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'all 1s'</span><span class="token punctuation">;</span>
  $box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'blue'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// solution 4</span>
$box<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>
$box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'all 1s'</span><span class="token punctuation">;</span>
$box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'blue'</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>solution 1~4 모두 red → blue로 transition이 발생하여 처음 의도한대로 작동합니다.</p>
<p>하지만 solution 1~3은 항상 작동을 보장하지 않는 잘못된 방법입니다.</p>
<h2 id="잘못된-방법인-이유" style="position:relative;">잘못된 방법인 이유<a href="#%EC%9E%98%EB%AA%BB%EB%90%9C-%EB%B0%A9%EB%B2%95%EC%9D%B8-%EC%9D%B4%EC%9C%A0" aria-label="잘못된 방법인 이유 permalink" class="anchor after"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="1rem" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" /></svg></a></h2>
<p>이유를 알기 위해서는 브라우저의 렌더링이 언제 실행되는지 알아야 합니다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/9265efbbe050824a2513fa8dade8c1c4/2cefc/1.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 73.00613496932516%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACDElEQVR42pWS2ZKbMBBF/f8/lAc/ZiZ24pqMVwzeMAbEKhYD2iXSxPZ4qlJ5mK5SIVS63a17etT3vTGGMaa1/thLKft/gnN+u/MRI1iM8yBETUeUMYTxMIrKqlJaQQoBS2shFZcqTtKOUKmNlHDxIVaPfNqYjnH/iuaX9SrcXurgXJw3/uaYH3FbFV1/iK7HuMWN7P+qBzGXOsTshK6o5EzwOFi6u1f/OE1S20nt99ObFa3LrvbTZr6Pl4cE4fbZNhfC9/3t1gpQCOI2eM+c79X+tU6tbWK/7WcbtC5JHWTtfBf9dhDKm6dYCkrTdXGesdSinKnKK/1lhyxSX9zCs7yNi12onDdqH9aHsMbtp7apYKtwNXF+WPFWKCUVmKDh/YRSMAz8B8/AJD+nixNeuiUqKGC5i+EeVzLLcyhrzBMGMFNK3faQQigNRAiFQ9Pf3IYaDP6lgqvmRuARgIkQ8vkQUFNKn5wh9xEdvczDuGDlpSfxPe1/BgPkgP8uFprPvF9T92dZhdniW74ZS1YLCE605E1Tt5QwyakAioILXTek6ZiAWTEG2lb7eHfITg1lXWQV53cQZKfpZTlGq3GTOFZiv2xepvuJX4aOf52svJkdhZg8OFPixu3Exjsfl1Up1eCtFAr4g/NSq6GPYU7BmWFUh9OhcD+6vS+p+MKtcSP6r8ToTmIAdvt+QfwHmnFZP3wK0d8AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="image.png"
        title=""
        src="/static/9265efbbe050824a2513fa8dade8c1c4/a6d36/1.png"
        srcset="/static/9265efbbe050824a2513fa8dade8c1c4/222b7/1.png 163w,
/static/9265efbbe050824a2513fa8dade8c1c4/ff46a/1.png 325w,
/static/9265efbbe050824a2513fa8dade8c1c4/a6d36/1.png 650w,
/static/9265efbbe050824a2513fa8dade8c1c4/e548f/1.png 975w,
/static/9265efbbe050824a2513fa8dade8c1c4/3c492/1.png 1300w,
/static/9265efbbe050824a2513fa8dade8c1c4/2cefc/1.png 1400w"
        sizes="(max-width: 650px) 100vw, 650px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>위 그림처럼 브라우저의 렌더링을 실행하는 Render Queue가 존재합니다.</p>
<p>그림에는 나타나 있지 않아 추가적으로 설명할 내용이 있는데,</p>
<ol>
<li>
<p>Microtask Queue > Render Queue > (Macro)Task Queue 순으로 우선 순위를 가집니다.</p>
</li>
<li>
<p>Render Queue의 작업은 매번 Call Stack에 추가되는 것이 아니라 브라우저가 업데이트가 필요하다고 판단하는 순간에만 추가됩니다.</p>
<p>(일반적으로 주사율에 맞추어 60FPS 기준 16.6ms마다 Render Queue가 비워집니다.)</p>
</li>
</ol>
<p>그리고 한 가지 더 주목할 점은 Style 과정 이전에 RAF (requestAnmationFrame)이 실행되는 것입니다.</p>
<p>저희가 처음 의도한대로 transition이 발생하려면 첫 번째 style 변경과 두 번째 style 변경 사이에 렌더링이 실행되어야 합니다.</p>
<p>이 내용을 바탕으로 solution 1~3이 왜 잘못된 방법인지 확인해 봅시다.</p>
<h3 id="Solution-1" style="position:relative;">Solution 1<a href="#Solution-1" aria-label="Solution 1 permalink" class="anchor after"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="1rem" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" /></svg></a></h3>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx">$box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>

<span class="token comment">// solution 1</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  $box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'all 1s'</span><span class="token punctuation">;</span>
  $box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'blue'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>setTimeout의 콜백 함수(두 번째 style 변경)가 Task Queue에 추가되고,</p>
<p>Render Queue는 Task Queue보다 우선 순위가 낮기 때문에 옳은 방법처럼 보이지만</p>
<p>Render Queue의 작업은 항상 실행되는 것이 아니라 주사율에 맞추어 실행되기에 현재 setTimeout의 콜백 함수가 다음 렌더링 이후에 실행된다는 보장이 없습니다.</p>
<h3 id="Solution-2" style="position:relative;">Solution 2<a href="#Solution-2" aria-label="Solution 2 permalink" class="anchor after"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="1rem" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" /></svg></a></h3>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx">$box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>

<span class="token comment">// solution 2</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  $box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'all 1s'</span><span class="token punctuation">;</span>
  $box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'blue'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Render Queue의 작업이 50ms 동안 실행되지 않는 상황이 드물기 때문에 정상 작동하는 것처럼 보이지만 이것 또한 작동을 보장한다고 보기 어렵고 transition이 지연되어 실행된다는 문제점이 있습니다.</p>
<h3 id="Solution-3" style="position:relative;">Solution 3<a href="#Solution-3" aria-label="Solution 3 permalink" class="anchor after"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="1rem" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" /></svg></a></h3>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx">$box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>

<span class="token comment">// solution 3</span>
<span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  $box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'all 1s'</span><span class="token punctuation">;</span>
  $box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'blue'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>requestAnimationFrame은 브라우저 렌더링보다 먼저 실행됩니다. (Style 과정보다 먼저 실행됩니다.)</p>
<h3 id="Solution-4" style="position:relative;">Solution 4<a href="#Solution-4" aria-label="Solution 4 permalink" class="anchor after"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="1rem" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" /></svg></a></h3>
<div class="gatsby-highlight" data-language="jsx"><pre style="counter-reset: linenumber NaN" class="language-jsx line-numbers"><code class="language-jsx">$box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>

<span class="token comment">// solution 4</span>
$box<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>
$box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transition <span class="token operator">=</span> <span class="token string">'all 1s'</span><span class="token punctuation">;</span>
$box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'blue'</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>offsetTop과 같이 레이아웃 연산이 필요한 일부 속성의 값을 가져오면 동기적인 Javascript 코드가 작동 중일 때도 reflow를 발생시킬 수 있고, 이를 통해 브라우저 렌더링을 실행할 수 있습니다.</p>
<h2 id="reflow-성능-문제" style="position:relative;">reflow 성능 문제<a href="#reflow-%EC%84%B1%EB%8A%A5-%EB%AC%B8%EC%A0%9C" aria-label="reflow 성능 문제 permalink" class="anchor after"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="1rem" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" /></svg></a></h2>
<p>reflow를 사용하는 방법은 괜히 불필요한 연산을 발생시키는, 좋지 않는 방법일 것 같다는 생각이 듭니다.</p>
<p>하지만, 일반적인 생각과 다르게 단순히 offsetTop과 같은 속성을 읽는 것만으로는 reflow(layout) 연산이 발생하지 않습니다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 210px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/66325e2cfab2ac561fe1bf54a623830b/65ed1/2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 34.96932515337423%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABRklEQVR42o1RTUsCURR11a5dQv+j/9IvaRUhraJFf6E2giNqqWRoJSQRZonOjKZWjo4fY+ZM+Y0RvXmn64xGLiIPnHe479573r08BwjchAVdZghvKYjsKIi5mrjcbSO0/Yw4aczVsO7EA47MPlA8Aswvu4+ZHHM4rHMWTzoclashnhJveDirIO0TcecXIYeKSJNKwQLK0SbU2AtaNwY4438Y/ga3k922DOnWh9x9mHhCDEJKBUiP0dWuMehkqNT839CcJfVaCbnkOdRCCkY1SxRhqCL0qVLc00rLGfL5hLULZON7aMiH6Fe8RA8GVQ9GqoB+2Y1h/ZRq2TIr26+O8pvI+1dRja5D8q8hF3CSOvEYduIjuQKW36B1JgtbWYbTiRZpG471BAzFjZHmxVgTSAWMWwJ6dS8+X91g7zQhffN0IcbMn/5vlcL/URA50acAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="image.png"
        title=""
        src="/static/66325e2cfab2ac561fe1bf54a623830b/65ed1/2.png"
        srcset="/static/66325e2cfab2ac561fe1bf54a623830b/222b7/2.png 163w,
/static/66325e2cfab2ac561fe1bf54a623830b/65ed1/2.png 210w"
        sizes="(max-width: 210px) 100vw, 210px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>위 스크린샷처럼 실제로 레이아웃의 변동이 없을 때는 get offsetTop이 발생해도 layout은 발생하지 않습니다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 199px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/36fbdb5cf26ebf6768717865d956b976/3d64b/3.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 40.49079754601227%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB2klEQVR42nWRy28SYRTFSZfGaExcmPgf+XcYN67aRBO7ML42JrowMelKY7SS1lRkkAotRVsFLQyUqTwGGOggtjxKHUJhkPKYnx9DMW48yfkW59x7cu/9HJgbGHE/u8+X0Za8pBZdFJd8lN4EyDk9pF+6+OldoxFaI/fqvV2jvvZQXPZRXgmiO0W/HAAzwOAwgAOBasTCfauM524J6c4PNh822XkyZPWe0G6XSDzrUhY90nwZ7/0SvgdVvj0yySyA8hgqX7AxMBkHjrBGgkNLEBp6isSWRFZep5r9ihpZp6ZFRJlFr3VEZvsDu2E/FTVMIfERLRag3/llB1oiwMFfWPZbK8VJR93kFbGSGiQVlajvhWzvxDwiG5OE5rU9TfFTUFbpd6eB1r+BE1T0PJs+iUIySquq0arkMPbztve70yIe2kAOBanradq1PEY5Q0/o/w3s6E/Z375GMzmHkbzBoTJLJzdve8P2d+qxqxzIs7TVOWo7N2klrzM4Vk6XHE0Dxf0mG9OQrxB+cYbGpws0P59Ddp6nsXV5UmO4iS3OkHRdoh89S/rdRdSVGTDensaIG47HnHIkeGIeiCMXGHaL4tcmHHb1iT9o0zvW6I81W9+zay2hjweyrBF/AP+RNjytEbhhAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="image.png"
        title=""
        src="/static/36fbdb5cf26ebf6768717865d956b976/3d64b/3.png"
        srcset="/static/36fbdb5cf26ebf6768717865d956b976/222b7/3.png 163w,
/static/36fbdb5cf26ebf6768717865d956b976/3d64b/3.png 199w"
        sizes="(max-width: 199px) 100vw, 199px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>실제로 레이아웃의 변동이 생겼을 때만 layout이 발생합니다.</p>
<h2 id="잘못된-방법이-작동하는-이유" style="position:relative;">잘못된 방법이 작동하는 이유<a href="#%EC%9E%98%EB%AA%BB%EB%90%9C-%EB%B0%A9%EB%B2%95%EC%9D%B4-%EC%9E%91%EB%8F%99%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0" aria-label="잘못된 방법이 작동하는 이유 permalink" class="anchor after"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="1rem" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" /></svg></a></h2>
<p>Solution 4가 작동을 항상 보장하는 제대로 된 방법이라는 걸 알았습니다.</p>
<p>하지만 Solution 1~3은 이론적으로 작동하지 않아야 하는 방법인데도 왜 실제로 테스트해보면 red → blue로 transition이 발생하는 걸까요?</p>
<p><img src="/103ff5a31f124965622ac498e98b6151/2.gif" alt="2.gif"></p>
<p>이유는 버튼을 클릭하면 Recalculate style이 발생하기 때문입니다.</p>
<p>(<a href="https://kimdw524.github.io/post/click-recalculate-style/">https://kimdw524.github.io/post/click-recalculate-style/</a>)</p>
<p><img src="/ea40d4d9a7d1c052f0695c391affd472/3.gif" alt="3.gif"></p>
<p><code class="language-text">test()</code> 함수를 버튼 클릭 핸들러가 아닌, 타이머를 통해 실행하면 Solution 1~3 방법은 green → blue로 transition이 발생하는 걸 확인할 수 있습니다.</p></div><div class="_22j7755"><div class="_1s2y7hd0"><div class="_1s2y7hd1 _1s2y7hd3"></div></div></div></div><div class="_22j7758"><div><div class="_1ol1jv30">@<!-- -->kimdw524</div><div class="_1ol1jv31">웹 프론트엔드에 관한 글을 작성합니다.</div><div class="_1ol1jv32"><a href="https://github.com/kimdw524" target="_blank" class="_125dc7m0"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1.75rem" width="1.75rem" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.976 0A7.977 7.977 0 0 0 0 7.976c0 3.522 2.3 6.507 5.431 7.584.392.049.538-.196.538-.392v-1.37c-2.201.49-2.69-1.076-2.69-1.076-.343-.93-.881-1.175-.881-1.175-.734-.489.048-.489.048-.489.783.049 1.224.832 1.224.832.734 1.223 1.859.88 2.3.685.048-.538.293-.88.489-1.076-1.762-.196-3.621-.881-3.621-3.964 0-.88.293-1.566.832-2.153-.05-.147-.343-.978.098-2.055 0 0 .685-.196 2.201.832.636-.196 1.322-.245 2.007-.245s1.37.098 2.006.245c1.517-1.027 2.202-.832 2.202-.832.44 1.077.146 1.908.097 2.104a3.16 3.16 0 0 1 .832 2.153c0 3.083-1.86 3.719-3.62 3.915.293.244.538.733.538 1.467v2.202c0 .196.146.44.538.392A7.984 7.984 0 0 0 16 7.976C15.951 3.572 12.38 0 7.976 0z"></path></svg></a></div></div></div><div class="_22j7756"><div class="_22j7757"><a href="/post/jsdom-window/"><div class="_20ktsp0 _20ktsp1"><div class="_20ktsp3"><span class="_20ktsp4">이전글</span><div class="_20ktsp5">jest + jsdom 환경에서 window instanceof Window</div></div><div class="_20ktsp6 _20ktsp7"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z" clip-rule="evenodd"></path></svg></div></div></a></div><div class="_22j7757"><a href="/post/stacking-context/"><div class="_20ktsp0 _20ktsp2"><div class="_20ktsp3"><span class="_20ktsp4">다음글</span><div class="_20ktsp5">쌓임 맥락 (stacking context)</div></div><div class="_20ktsp6 _20ktsp8"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></div></div></a></div></div></div></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/post/trigger-transition/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-0e780a824a39c848b7ee.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-9554f9c7b103c499ec49.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-efff3b33cb82ceaf1a53.js\"],\"component---src-templates-post-tsx\":[\"/component---src-templates-post-tsx-2938a886858864ff4268.js\"],\"component---src-templates-tag-tsx\":[\"/component---src-templates-tag-tsx-d0381fbb05f3c3b7e382.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="1898917e301ddbb2012e";</script><script src="/webpack-runtime-106176e2934b235fdae8.js" async></script><script src="/framework-311f9b82096c59e4c221.js" async></script><script src="/app-0e780a824a39c848b7ee.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>